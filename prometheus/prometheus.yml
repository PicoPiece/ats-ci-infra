global:
  scrape_interval: 15s
  evaluation_interval: 15s
  external_labels:
    cluster: 'ats-center'
    environment: 'production'

scrape_configs:
  # Prometheus self-monitoring
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']

  # ATS Node Metrics
  # Each ATS node runs the metrics exporter (configurable via METRICS_PORT)
  # For production: replace targets with actual Raspberry Pi IPs
  # For local dev/testing: use host IP with the configured METRICS_PORT
  - job_name: 'ats-nodes'
    scrape_interval: 15s
    metrics_path: '/metrics'
    static_configs:
      # metrics-exporter container on ats-net Docker network
      - targets: ['metrics-exporter:8080']
        labels:
          node: 'local-dev'
          platform: 'linux'
      # Raspberry Pi ATS node (thait@192.168.1.40)
      - targets: ['192.168.1.40:8080']
        labels:
          node: 'ats-node-rpi'
          platform: 'raspberry-pi'
